setwd("C:\Users\rdessein\OneDrive - Deloitte (O365D)\Documents\GitHub\DataScienceForNonLife-Assignment")
setwd("C:/Users/rdessein/oneDrive - Deloitte (O365D)/Documents/GitHub/DataScienceForNonLife-Assignment")
Data_origin <- read.table(path.Data, header=TRUE, sep=";")
Data_origin <- read.table(read.csv("DataCombined.csv"), header=TRUE, sep=";")
Data_origin <- as.data.table(read.csv("DataCombined.csv"), header=TRUE, sep=";")
### Step 2. import dataframe
Data_origin <- as.data.table(read.csv("DataCombined.csv"), header=TRUE, sep=";")
### Step 2. import dataframe
Data_origin <- as.data.table(read.csv("DataCombined.csv"), header=TRUE, sep=";")
library(data.table)
### Step 2. import dataframe
Data_origin <- as.data.table(read.csv("DataCombined.csv"), header=TRUE, sep=";")
View(Data_origin)
Data_origin <- as.data.table(read.csv("DataCombined.csv"), header=TRUE, sep=",")
View(Data_origin)
Data_origin <- as.data.table(read.csv("DataCombined.csv"), header=TRUE, sep=";", dec=",")
Data_origin <- as.data.table(read.csv("DataCombined.csv"), header=TRUE, dec=".")
Data_origin <- as.data.table(read.csv("DataCombined.csv"), header=TRUE, sep=";", dec=".")
View(Data_origin)
Data_origin <- as.data.table(read.csv("DataCombined.csv"), header=TRUE, sep=";", dec=".")
Data_origin <- as.data.table(read.csv("DataCombined.csv", header=TRUE, sep=";", dec="."))
View(Data_origin)
DataCombined <- as.data.table(read.csv("DataCombined.csv", header=TRUE, sep=";", dec="."))
DataCombined <- as.data.table(read.csv("DataCombined.csv", header=TRUE, sep=";", dec="."))
data <- DataCombined %>%
# rename all columns
rename_all(function(.name) {
.name %>%
# replace all names with the lowercase versions
tolower
# replace all spaces with underscores is also useful, with `str_replace(" ", "-")`
})
Data <- as.data.table(read.csv("DataCombined.csv", header=TRUE, sep=";", dec="."))
emp_freq <- Data$nbrtotc / Data$duree
Data <- cbind(Data, emp_freq)
Data
Data$nbrtotc
Data <- as.data.table(read.csv("DataCombined.csv", header=TRUE, sep=";", dec="."))
# 1. frequency
frequency <- Data$nbrtotc / Data$duree
Data$duree
frequency <- Data$nbrtotc / Data$duree #number of claims during (period of) exposure di
frequency
summary(Data$nbrtotc)
summary(Data$emp_freq)
frequency <- Data$nbrtotc / Data$duree #number of claims during (period of) exposure di
Data <- cbind(Data, frequency)
Data
summary(Data$nbrtotc)
summary(Data$emp_freq)
avg_freq <- sum(Data$nbrtotc)/sum(Data$duree)
avg_freq
Data
frequency <- Data$nbrtotc / Data$duree #number of claims during (period of) exposure di
DataFreq <- cbind(Data, frequency)
DataFreq
summary(DataFreq$nbrtotc)
summary(Data$emp_freq)
avg_freq <- sum(DataFreq$nbrtotc)/sum(DataFreq$duree)
DataFreq
frequency <- Data$nbrtotc / Data$duree #number of claims during (period of) exposure di
##########################################
## Assignment Data science for None-Life ##
##########################################
# 0. Import data
setwd("C:/Users/rdessein/oneDrive - Deloitte (O365D)/Documents/GitHub/DataScienceForNonLife-Assignment")
### 0.1 Data of "Assinment.csv" and "inspost.xls" merged using VLOOKUP
### 0.2 import dataframe
Data <- as.data.table(read.csv("DataCombined.csv", header=TRUE, sep=";", dec="."))
# 1. frequency
frequency <- Data$nbrtotc / Data$duree #number of claims during (period of) exposure di
DataFreq <- cbind(Data, frequency)
DataFreq
summary(DataFreq$nbrtotc)
summary(Data$emp_freq)
avg_freq <- sum(DataFreq$nbrtotc)/sum(DataFreq$duree)
Data
DataFreq
# 0. Import data
setwd("C:/Users/rdessein/oneDrive - Deloitte (O365D)/Documents/GitHub/DataScienceForNonLife-Assignment")
### 0.1 Data of "Assinment.csv" and "inspost.xls" merged using VLOOKUP
### 0.2 import dataframe
Data <- as.data.table(read.csv("DataCombined.csv", header=TRUE, sep=";", dec="."))
# 1. frequency
frequency <- Data$nbrtotc / Data$duree #number of claims during (period of) exposure di
DataFreq <- cbind(Data, frequency)
DataFreq
library(data.table)
### 0.2 import dataframe
Data <- as.data.table(read.csv("DataCombined.csv", header=TRUE, sep=";", dec="."))
# 1. frequency
frequency <- Data$nbrtotc / Data$duree #number of claims during (period of) exposure di
DataFreq <- cbind(Data, frequency)
DataFreq
frequency
nbrtotc
Data$nbrtotc
Data$duree
summary(DataFreq$nbrtotc)
summary(Data$emp_freq)
emp_freq
avg_freq <- sum(DataFreq$nbrtotc)/sum(DataFreq$duree)
avg_freq
DataFreq
summary(frequency)
frequency
print(frequency)
length(frequency)
summarize(frequency)
sum(frequency<1, 1>frequency>=2)
sum(frequency<1, 1>frequency>2)
frequency
frequency
sum(frequency<1 & 1>frequency>2)
sum(frequency<1 & frequency<2)
print(sum(frequency<1))
print("Zero claims",sum(frequency<1))
sum(frequency<1)
sum(frequency<=1)
sum(frequency<1)
sum(frequency=1)
sum(1<=frequency<2)
summarize(frequency)
summarize(nbrtotc)
summary(nbrtotc)
setwd("C:/Users/rdessein/oneDrive - Deloitte (O365D)/Documents/GitHub/DataScienceForNonLife-Assignment")
### 0.1 Data of "Assinment.csv" and "inspost.xls" merged using VLOOKUP
### 0.2 import dataframe
Data <- as.data.table(read.csv("DataCombined.csv", header=TRUE, sep=";", dec="."))
# 1. frequency
frequency <- Data$nbrtotc / Data$duree #number of claims during (period of) exposure di. Please not the second observation of (very) high (21). This is because one claim happened during a very short period (di=0.04)
DataFreq <- cbind(Data, frequency)
summary(Data$nbrtotc)
Data$nbrtotc
count.fields(Data$nbrtotc)
table(Data$nbrtotc)
# 0. Import data
setwd("C:/Users/rdessein/oneDrive - Deloitte (O365D)/Documents/GitHub/DataScienceForNonLife-Assignment")
### 0.1 Data of "Assinment.csv" and "inspost.xls" merged using VLOOKUP
### 0.2 import dataframe
Data <- as.data.table(read.csv("DataCombined.csv", header=TRUE, sep=";", dec="."))
# 1. frequency
frequency <- Data$nbrtotc / Data$duree #number of claims during (period of) exposure di. Please not the second observation of (very) high (21). This is because one claim happened during a very short period (di=0.04)
DataFreq <- cbind(Data, frequency)
table(Data$nbrtotc) #number of claims
avg_freq <- sum(DataFreq$nbrtotc)/sum(DataFreq$duree)
avg_freq #claim mean = 0.134 per year
ggplot.bar <- function(DT, variable, xlab){
ggplot(data = DT, aes(as.factor(variable))) + theme_bw() +
geom_bar(aes(y = (..count..)/sum(..count..)), col = col, fill = fill, alpha = 0.5) + labs(x = xlab, y = ylab)
}
ggplot.hist <- function(DT, variable, xlab, binwidth){
ggplot(data = DT, aes(variable)) + theme_bw() +
geom_histogram(aes(y = (..count..)/sum(..count..)), binwidth = binwidth, col = col, fill = fill, alpha = 0.5) +
labs(x = xlab, y = ylab)
}
ggplot(data = DataFreq, aes(ageph)) + theme_bw() +
geom_histogram(binwidth = 2, col = KULbg,
fill = KULbg, alpha = .5) +
labs(y = "Absolute frequency") +
ggtitle("age policyholder")
ggplot.bar <- function(DT, variable, xlab){
ggplot(data = DT, aes(as.factor(variable))) + theme_bw() +
geom_bar(aes(y = (..count..)/sum(..count..)), col = col, fill = fill, alpha = 0.5) + labs(x = xlab, y = ylab)
}
ggplot.hist <- function(DT, variable, xlab, binwidth){
ggplot(data = DT, aes(variable)) + theme_bw() +
geom_histogram(aes(y = (..count..)/sum(..count..)), binwidth = binwidth, col = col, fill = fill, alpha = 0.5) +
labs(x = xlab, y = ylab)
}
ggplot(data = DataFreq, aes(ageph)) + theme_bw() +
geom_histogram(binwidth = 2, col = KULbg,
fill = KULbg, alpha = .5) +
labs(y = "Absolute frequency") +
ggtitle("age policyholder")
library(ggplot2)
ggplot(data = DataFreq, aes(ageph)) + theme_bw() +
geom_histogram(binwidth = 2, col = KULbg,
fill = KULbg, alpha = .5) +
labs(y = "Absolute frequency") +
ggtitle("age policyholder")
ggplot(data = DataFreq, aes(ageph)) + theme_bw() +
geom_histogram(binwidth = 2, col = red,
fill = blue, alpha = .5) +
labs(y = "Absolute frequency") +
ggtitle("age policyholder")
ggplot(data = DataFreq, aes(ageph)) + theme_bw() +
geom_histogram(binwidth = 2, alpha = .5) +
labs(y = "Absolute frequency") +
ggtitle("age policyholder")
DataFreq
ggplot(data = DataFreq, aes(AGEPH)) + theme_bw() +
geom_histogram(binwidth = 2, alpha = .5) +
labs(y = "Absolute frequency") +
ggtitle("age policyholder")
ggplot(data = DataFreq, aes(AGEPH)) + theme_bw() +
geom_line(binwidth = 2, alpha = .5) +
labs(y = "Absolute frequency") +
ggtitle("age policyholder")
ggplot(data = DataFreq, aes(AGEPH)) + theme_bw() +
geom_line() +
labs(y = "Absolute frequency") +
ggtitle("age policyholder")
ggplot(data = DataFreq, aes(AGEPH)) + theme_bw() +
geom_histogram(binwidth = 2, alpha = .5) +
labs(y = "Absolute frequency") +
ggtitle("age policyholder")
ggplot(data = DataFreq, aes(AGEPH)) + theme_bw() +
geom_line(binwidth = 2, alpha = .5) +
labs(y = "Absolute frequency") +
ggtitle("age policyholder")
ggplot(data = DataFreq, aes(AGEPH)) + theme_bw() +
geom_line(color="red") +
labs(y = "Absolute frequency") +
ggtitle("age policyholder")
ggplot(data = DataFreq, aes(AGEPH)) + theme_bw() +
geom_histogram(binwidth = 2, alpha = .5) +
labs(y = "Absolute frequency") +
ggtitle("age policyholder")
ggplot(data = DataFreq, aes(AGEPH)) + theme_bw() +
geom_histogram(binwidth = 2, alpha = .5) +
labs(y = "Absolute frequency", X="age") +
ggtitle("age policyholder")
frequency_by_age <- data %>%
group_by(ageph) %>%
summarize(avg_freq = sum(nbrtotc)/sum(duree))
library(dplyr)
frequency_by_age <- data %>%
group_by(ageph) %>%
summarize(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_age
plot.freq.age <- ggplot(frequency_by_age, aes(x = age, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", color = KULbg, fill = KULbg, alpha = .5) +
ggtitle("Empirical claim frequency per age policyholder")
ggplot(data = DataFreq, aes(AGEPH)) + theme_bw() +
geom_histogram(binwidth = 2, alpha = .5) +
labs(y = "Absolute frequency", X="Age") +
ggtitle("age policyholder")
group_by(ageph)
group_by(AGEPH)
AGEPH
group_by(data$AGEPH)
frequency_by_age <- data %>%
group_by(AGEPH) %>%
summarise(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_age <- DataFreq %>%
group_by(AGEPH) %>%
summarise(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_age
summary(frequency_by_age)
plot.freq.age <- ggplot(frequency_by_age, aes(x = age, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", color = KULbg, fill = KULbg, alpha = .5) +
ggtitle("Empirical claim frequency per age policyholder")
plot.freq.age <- ggplot(frequency_by_age, aes(x = age, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Empirical claim frequency per age policyholder")
plot.freq.age
ggplot(data = DataFreq, aes(AGEPH)) + theme_bw() +
geom_histogram(binwidth = 2, alpha = .5) +
labs(y = "Absolute frequency", X="Age") +
ggtitle("age policyholder")
frequency_by_age <- DataFreq %>%
group_by(AGEPH) %>%
summarise(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_age
summary(frequency_by_age)
plot.freq.age <- ggplot(frequency_by_age, aes(x = age, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Empirical claim frequency per age policyholder")
plot.freq.age <- ggplot(frequency_by_age, aes(x = AGEPH, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Empirical claim frequency per age policyholder")
plot.freq.age
plot.freq.age <- ggplot(frequency_by_age, aes(x = AGEPH, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "count", alpha = .5) +
ggtitle("Empirical claim frequency per age policyholder")
plot.freq.age
# Age of policyholder
ggplot(data = DataFreq, aes(AGEPH)) + theme_bw() +
geom_histogram(binwidth = 2, alpha = .5) +
labs(y = "Absolute frequency", X="Age") +
ggtitle("age policyholder")
frequency_by_age <- DataFreq %>%
group_by(AGEPH) %>%
summarise(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_age
summary(frequency_by_age)
plot.freq.age <- ggplot(frequency_by_age, aes(x = AGEPH, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Empirical claim frequency per age policyholder")
ggplot(frequency_by_age, aes(x = AGEPH, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Empirical claim frequency per age policyholder")
frequency_by_age <- DataFreq %>%
group_by(AGEPH) %>%
summarise(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_age
summary(frequency_by_age)
Freq_age <- ggplot(frequency_by_age, aes(x = AGEPH, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Claim frequency by age policyholder")
View(frequency_by_age)
View(frequency_by_age)
View(Data)
frequency_by_agecar <- data %>%
group_by(agecar) %>%
summarize(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_agecar
summary(frequency_by_agecar)
plot.freq.agec <- ggplot(frequency_by_agecar, aes(x = agecar, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Claim frequency by age policyholde")
plot.freq.agec
frequency_by_agecar <- data %>%
group_by(agecar) %>%
summarize(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_agecar
summary(frequency_by_agecar)
Freq_agecar <- ggplot(frequency_by_agecar, aes(x = agecar, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Claim frequency by age policyholde")
plot.freq.agec
frequency_by_agecar <- DataFreq %>%
group_by(agecar) %>%
summarize(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_agecar
summary(frequency_by_agecar)
Freq_agecar <- ggplot(frequency_by_agecar, aes(x = agecar, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Claim frequency by age policyholde")
Freq_agecar
frequency_by_agecar
DataFreq
View(DataFreq)
##########################################
## Assignment Data science for None-Life##
##########################################
############## Import Data ##############
# 0. Import data
setwd("C:/Users/rdessein/oneDrive - Deloitte (O365D)/Documents/GitHub/DataScienceForNonLife-Assignment")
### 0.1 Data of "Assinment.csv" and "inspost.xls" merged using VLOOKUP
### 0.2 import dataframe
Data <- as.data.table(read.csv("DataCombined.csv", header=TRUE, sep=";", dec="."))
############## Frequency ##############
frequency <- Data$nbrtotc / Data$duree #number of claims during (period of) exposure di. Please not the second observation of (very) high (21). This is because one claim happened during a very short period (di=0.04)
DataFreq <- cbind(Data, frequency)
table(Data$nbrtotc) #number of claims
avg_freq <- sum(DataFreq$nbrtotc)/sum(DataFreq$duree)
avg_freq #claim mean = 0.134 per year
#### Frequency of claims per variable ####
# wrapper functions
# +++ Charts to be added +++ #
# Age of policyholder
frequency_by_age <- DataFreq %>%
group_by(AGEPH) %>%
summarise(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_age
summary(frequency_by_age)
Freq_age <- ggplot(frequency_by_age, aes(x = AGEPH, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Claim frequency by age policyholder")
# Age car
frequency_by_agecar <- DataFreq %>%
group_by(agecar) %>%
summarize(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_agecar
summary(frequency_by_agecar)
Freq_agecar <- ggplot(frequency_by_agecar, aes(x = agecar, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Claim frequency by age policyholde")
Freq_agecar
frequency_by_sex <- DataFreq %>%
group_by(sexp) %>%
summarize(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_sex
plot.freq.sex <- ggplot(frequency_by_sex, aes(x = sexp, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Claim frequency by per gender")
plot.freq.sex
frequency_by_cover <- DataFreq %>%
group_by(coverp) %>%
summarize(avg_freq = sum(nbrtotc)/sum(duree))
frequency_by_cover
plot.freq.cover <- ggplot(frequency_by_cover, aes(x = coverp, y = avg_freq)) +
theme_bw() +
geom_bar(stat = "identity", alpha = .5) +
ggtitle("Claim frequency per cover type")
plot.freq.cover
setwd("C:/Users/rdessein/oneDrive - Deloitte (O365D)/Documents/GitHub/DataScienceForNonLife-Assignment")
